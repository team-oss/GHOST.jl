<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Manual · GHOST</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">GHOST</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li class="is-active"><a class="tocitem" href>Manual</a><ul class="internal"><li><a class="tocitem" href="#Getting-Started"><span>Getting Started</span></a></li><li><a class="tocitem" href="#Licenses"><span>Licenses</span></a></li><li><a class="tocitem" href="#Collection-Strategy"><span>Collection Strategy</span></a></li><li><a class="tocitem" href="#Relational-Database"><span>Relational Database</span></a></li><li><a class="tocitem" href="#How-To-Use"><span>How To Use</span></a></li></ul></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Manual</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Manual</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/uva-bi-sdad/GHOST.jl/blob/master/docs/src/manual.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Manual"><a class="docs-heading-anchor" href="#Manual">Manual</a><a id="Manual-1"></a><a class="docs-heading-anchor-permalink" href="#Manual" title="Permalink"></a></h1><h2 id="Getting-Started"><a class="docs-heading-anchor" href="#Getting-Started">Getting Started</a><a id="Getting-Started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started" title="Permalink"></a></h2><p>GHOST.jl can be installed from the repository through:</p><pre><code class="language-julia">using Pkg
Pkg.add(url = &quot;https://github.com/uva-bi-sdad/GHOST.jl&quot;)</code></pre><p>to load the package, use</p><pre><code class="language-julia">using GHOST</code></pre><h2 id="Licenses"><a class="docs-heading-anchor" href="#Licenses">Licenses</a><a id="Licenses-1"></a><a class="docs-heading-anchor-permalink" href="#Licenses" title="Permalink"></a></h2><p>GitHub can recognize certain licenses for repositories per their <a href="https://help.github.com/en/github/creating-cloning-and-archiving-repositories/licensing-a-repository">documentation</a>. We filter out the machine-detectable licenses that are approved by the Open Source Initiative based on the SPDX Working Group SPDX License <a href="https://raw.githubusercontent.com/spdx/license-list-data/master/json/licenses.json">List</a> data.</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>SPDX stands for Software Package Data Exchange open standard for communicating software bill of material information (including components, licenses, copyrights, and security references).</p></div></div><p>The following licenses are machine-detectable OSI-approved licenses.</p><table><tr><th style="text-align: center"><strong>SPDX</strong></th><th style="text-align: center"><strong>Name</strong></th></tr><tr><td style="text-align: center">0BSD</td><td style="text-align: center">BSD Zero Clause License</td></tr><tr><td style="text-align: center">AFL-3.0</td><td style="text-align: center">Academic Free License v3.0</td></tr><tr><td style="text-align: center">AGPL-3.0</td><td style="text-align: center">GNU Affero General Public License v3.0</td></tr><tr><td style="text-align: center">Apache-2.0</td><td style="text-align: center">Apache License 2.0</td></tr><tr><td style="text-align: center">Artistic-2.0</td><td style="text-align: center">Artistic License 2.0</td></tr><tr><td style="text-align: center">BSD-2-Clause</td><td style="text-align: center">BSD 2-Clause &quot;Simplified&quot; License</td></tr><tr><td style="text-align: center">BSD-3-Clause</td><td style="text-align: center">BSD 3-Clause &quot;New&quot; or &quot;Revised&quot; License</td></tr><tr><td style="text-align: center">BSL-1.0</td><td style="text-align: center">Boost Software License 1.0</td></tr><tr><td style="text-align: center">CECILL-2.1</td><td style="text-align: center">CeCILL Free Software License Agreement v2.1</td></tr><tr><td style="text-align: center">ECL-2.0</td><td style="text-align: center">Educational Community License v2.0</td></tr><tr><td style="text-align: center">EPL-1.0</td><td style="text-align: center">Eclipse Public License 1.0</td></tr><tr><td style="text-align: center">EPL-2.0</td><td style="text-align: center">Eclipse Public License 2.0</td></tr><tr><td style="text-align: center">EUPL-1.1</td><td style="text-align: center">European Union Public License 1.1</td></tr><tr><td style="text-align: center">EUPL-1.2</td><td style="text-align: center">European Union Public License 1.2</td></tr><tr><td style="text-align: center">GPL-2.0</td><td style="text-align: center">GNU General Public License v2.0 only</td></tr><tr><td style="text-align: center">GPL-3.0</td><td style="text-align: center">GNU General Public License v3.0 only</td></tr><tr><td style="text-align: center">ISC</td><td style="text-align: center">ISC License</td></tr><tr><td style="text-align: center">LGPL-2.1</td><td style="text-align: center">GNU Lesser General Public License v2.1 only</td></tr><tr><td style="text-align: center">LGPL-3.0</td><td style="text-align: center">GNU Lesser General Public License v3.0 only</td></tr><tr><td style="text-align: center">LPPL-1.3c</td><td style="text-align: center">LaTeX Project Public License v1.3c</td></tr><tr><td style="text-align: center">MIT</td><td style="text-align: center">MIT License</td></tr><tr><td style="text-align: center">MPL-2.0</td><td style="text-align: center">Mozilla Public License 2.0</td></tr><tr><td style="text-align: center">MS-PL</td><td style="text-align: center">Microsoft Public License</td></tr><tr><td style="text-align: center">MS-RL</td><td style="text-align: center">Microsoft Reciprocal License</td></tr><tr><td style="text-align: center">NCSA</td><td style="text-align: center">University of Illinois/NCSA Open Source License</td></tr><tr><td style="text-align: center">OFL-1.1</td><td style="text-align: center">SIL Open Font License 1.1</td></tr><tr><td style="text-align: center">OSL-3.0</td><td style="text-align: center">Open Software License 3.0</td></tr><tr><td style="text-align: center">PostgreSQL</td><td style="text-align: center">PostgreSQL License</td></tr><tr><td style="text-align: center">UPL-1.0</td><td style="text-align: center">Universal Permissive License v1.0</td></tr><tr><td style="text-align: center">Unlicense</td><td style="text-align: center">The Unlicense</td></tr><tr><td style="text-align: center">Zlib</td><td style="text-align: center">zlib License</td></tr></table><h2 id="Collection-Strategy"><a class="docs-heading-anchor" href="#Collection-Strategy">Collection Strategy</a><a id="Collection-Strategy-1"></a><a class="docs-heading-anchor-permalink" href="#Collection-Strategy" title="Permalink"></a></h2><h3 id="Universe"><a class="docs-heading-anchor" href="#Universe">Universe</a><a id="Universe-1"></a><a class="docs-heading-anchor-permalink" href="#Universe" title="Permalink"></a></h3><p>We are interested in finding every repository on GitHub that fits the following criteria:</p><ul><li>Is public</li><li>Has a machine detectable OSI-approved license</li><li>Is not a fork</li><li>Is not a mirror</li><li>Is not archived</li></ul><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>The oldest repository by creation time on GitHub dates back to 2007-10-29T14:37:16+00.</p></div></div><p>In the GitHub <a href="https://help.github.com/en/github/searching-for-information-on-github/understanding-the-search-syntax">search syntax</a> the following criteria is denoted by</p><pre><code class="language-none">{
  search(query: &quot;is:public fork:false mirror:false archived:false license:$spdx created:2007-10-29T14:37:16+00..2020-01-01T00:00:00+00&quot;, type: REPOSITORY) {
    repositoryCount
  }
}</code></pre><p>where <code>$spdx</code> a license keyword (e.g., <code>mit</code>).</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>GitHub only allows to query up to 1,000 results per search connection result. If a query returns over 1,000 results, only the first 1,000 are accessible. In order to be able to collect every repository of interest we query based on:     - license (e.g., <code>spdx:mit</code>)     - when it was created (e.g., <code>created:2010-01-01T00:00:00+00..2010-02-01T00:00:00+00</code>) We shrink intervals until the result count is 1,000 or fewer.</p></div></div><pre><code class="language-none">created:2010-01-01T00:00:00+00..2010-01-01T12:00:00+00 1,850

created:2010-01-01T00:00:00+00..2010-01-01T12:00:00+00 998
created:2010-01-01T12:00:00+00..2010-01-02T00:00:00+00 952</code></pre><p>We then prune intervals to obtain the least amount of valid intervals that cover the full time period.</p><p>For example,</p><table><tr><th style="text-align: center">spdx</th><th style="text-align: center">created</th><th style="text-align: center">count</th><th style="text-align: center">asof</th><th style="text-align: right">done</th></tr><tr><td style="text-align: center">zlib</td><td style="text-align: center">[&quot;2007-10-29 00:00:00&quot;,&quot;2014-09-04 00:00:00&quot;)</td><td style="text-align: center">999</td><td style="text-align: center">2020-05-14 18:48:03</td><td style="text-align: right">FALSE</td></tr><tr><td style="text-align: center">zlib</td><td style="text-align: center">[&quot;2014-09-04 00:00:00&quot;,&quot;2016-12-09 00:00:00&quot;)</td><td style="text-align: center">998</td><td style="text-align: center">2020-05-14 18:48:03</td><td style="text-align: right">FALSE</td></tr><tr><td style="text-align: center">zlib</td><td style="text-align: center">[&quot;2016-12-09 00:00:00&quot;,&quot;2018-12-21 00:00:00&quot;)</td><td style="text-align: center">998</td><td style="text-align: center">2020-05-14 18:48:03</td><td style="text-align: right">FALSE</td></tr><tr><td style="text-align: center">zlib</td><td style="text-align: center">[&quot;2018-12-21 00:00:00&quot;,&quot;2020-01-01 00:00:00&quot;)</td><td style="text-align: center">562</td><td style="text-align: center">2020-05-14 18:48:03</td><td style="text-align: right">FALSE</td></tr></table><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>This is table <code>gh_2007_2021.queries</code>.</p></div></div><p>The <code>queries</code> table is used to store the queries and track their status. Once all the records have been obtained for the <code>repos</code> table their <code>done</code> status becomes <code>TRUE</code>.</p><h3 id="Repository-base-branch"><a class="docs-heading-anchor" href="#Repository-base-branch">Repository base branch</a><a id="Repository-base-branch-1"></a><a class="docs-heading-anchor-permalink" href="#Repository-base-branch" title="Permalink"></a></h3><p>The commit data for a Git repository is dependent on the base branch.</p><p>The <code>repos</code> table contains the GitHub repository global node ID and the global node ID for the base branch of the repository.</p><table><tr><th style="text-align: right">id</th><th style="text-align: right">basebranchid</th><th style="text-align: right">asof</th><th style="text-align: right">status</th></tr><tr><td style="text-align: right">MDEwOlJlcG9zaXRvcnkyMzgzNTcxMTI=</td><td style="text-align: right">MDM6UmVmMjM4MzU3MTEyOm1hc3Rlcg==</td><td style="text-align: right">2020-05-14 19:49:10+00</td><td style="text-align: right">Ready</td></tr></table><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>This is table <code>gh_2007_2021.repos</code>.</p></div></div><p>The various <code>status</code> values include:</p><ul><li><code>Ready</code>: We will commence collecting commit data from it.</li><li><code>Unavailable</code>: Repository is not accessible (e.g., deleted of made private <code>NOT_FOUND</code>, DMCA takedown)</li><li><code>Error</code>: Something weird happened such as someone Git force pushing and changing the history during the scrape process.</li></ul><h3 id="Commits"><a class="docs-heading-anchor" href="#Commits">Commits</a><a id="Commits-1"></a><a class="docs-heading-anchor-permalink" href="#Commits" title="Permalink"></a></h3><p>For each repository, we query the commit data based on the time coverage of the data collection.</p><p>The <code>commits</code> table contains this data and is used to update the status of the repository commit data at the <code>repos</code> table.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Commit users may show with a <code>NULL</code> login which indicates that the commit email does not match those associated with any GitHub account.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Commit timestamps sometimes may have have strange dates dating back before the creation of version control (usually the Epoch time). For those commits, we replace the value with the earliest commit date in that repository that seems valid.</p></div></div><h2 id="Relational-Database"><a class="docs-heading-anchor" href="#Relational-Database">Relational Database</a><a id="Relational-Database-1"></a><a class="docs-heading-anchor-permalink" href="#Relational-Database" title="Permalink"></a></h2><table><tr><th style="text-align: center">Table</th><th style="text-align: center">Column</th><th style="text-align: center">Description</th></tr><tr><td style="text-align: center">licenses</td><td style="text-align: center">spdx</td><td style="text-align: center">Software Package Data Exchange License ID</td></tr><tr><td style="text-align: center">licenses</td><td style="text-align: center">name</td><td style="text-align: center">Name of the license</td></tr><tr><td style="text-align: center">queries</td><td style="text-align: center">spdx</td><td style="text-align: center">The SPDX license ID</td></tr><tr><td style="text-align: center">queries</td><td style="text-align: center">created</td><td style="text-align: center">The time interval for the query</td></tr><tr><td style="text-align: center">queries</td><td style="text-align: center">count</td><td style="text-align: center">How many results for the query</td></tr><tr><td style="text-align: center">queries</td><td style="text-align: center">asof</td><td style="text-align: center">When was GitHub queried about the information.</td></tr><tr><td style="text-align: center">queries</td><td style="text-align: center">done</td><td style="text-align: center">Has the repositories been collected?</td></tr><tr><td style="text-align: center">repos</td><td style="text-align: center">id</td><td style="text-align: center">Repository ID</td></tr><tr><td style="text-align: center">repos</td><td style="text-align: center">spdx</td><td style="text-align: center">SPDX license ID</td></tr><tr><td style="text-align: center">repos</td><td style="text-align: center">slug</td><td style="text-align: center">Location of the respository</td></tr><tr><td style="text-align: center">repos</td><td style="text-align: center">createdat</td><td style="text-align: center">When was the repository created on GitHub?</td></tr><tr><td style="text-align: center">repos</td><td style="text-align: center">description</td><td style="text-align: center">Description of the respository</td></tr><tr><td style="text-align: center">repos</td><td style="text-align: center">primarylanguage</td><td style="text-align: center">Primary language of the respository</td></tr><tr><td style="text-align: center">repos</td><td style="text-align: center">branch</td><td style="text-align: center">Base branch ID</td></tr><tr><td style="text-align: center">repos</td><td style="text-align: center">commits</td><td style="text-align: center">Number of commits in the branch until the end of the observation period</td></tr><tr><td style="text-align: center">repos</td><td style="text-align: center">asof</td><td style="text-align: center">When was GitHub queried?</td></tr><tr><td style="text-align: center">repos</td><td style="text-align: center">status</td><td style="text-align: center">Status of collection effort</td></tr><tr><td style="text-align: center">commits</td><td style="text-align: center">branch</td><td style="text-align: center">Base Branch ID (foreign key)</td></tr><tr><td style="text-align: center">commits</td><td style="text-align: center">id</td><td style="text-align: center">Commit ID</td></tr><tr><td style="text-align: center">commits</td><td style="text-align: center">oid</td><td style="text-align: center">Git Object ID (SHA1)</td></tr><tr><td style="text-align: center">commits</td><td style="text-align: center">committedat</td><td style="text-align: center">When was it committed?</td></tr><tr><td style="text-align: center">commits</td><td style="text-align: center">authors_email</td><td style="text-align: center">The email in the Git commit.</td></tr><tr><td style="text-align: center">commits</td><td style="text-align: center">authors_name</td><td style="text-align: center">The name in the Git commit.</td></tr><tr><td style="text-align: center">commits</td><td style="text-align: center">authors_id</td><td style="text-align: center">GitHub Author</td></tr><tr><td style="text-align: center">commits</td><td style="text-align: center">additions</td><td style="text-align: center">The number of additions in this commit.</td></tr><tr><td style="text-align: center">commits</td><td style="text-align: center">deletions</td><td style="text-align: center">The number of deletions in this commit.</td></tr><tr><td style="text-align: center">commits</td><td style="text-align: center">asof</td><td style="text-align: center">When was GitHub queried.</td></tr></table><h2 id="How-To-Use"><a class="docs-heading-anchor" href="#How-To-Use">How To Use</a><a id="How-To-Use-1"></a><a class="docs-heading-anchor-permalink" href="#How-To-Use" title="Permalink"></a></h2><p>In order to use this package, refer to API section in the documentation, the examples in the <a href="https://github.com/uva-bi-sdad/GHOST.jl/blob/main/test/runtests.jl">test suite</a>, the <a href="https://github.com/uva-bi-sdad/GHOST.jl/blob/main/.github/workflows/ci.yml">CI</a> and <a href="https://github.com/uva-bi-sdad/GHOST.jl/tree/main/scripts">pipeline</a> scripts.</p><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>Additional documentation is forthcoming once the API interface is stabilized.</p></div></div><h3 id="Requirements"><a class="docs-heading-anchor" href="#Requirements">Requirements</a><a id="Requirements-1"></a><a class="docs-heading-anchor-permalink" href="#Requirements" title="Permalink"></a></h3><ul><li>GitHub Personal Access Tokens with public access</li><li>Julia v1 (current release v1.5.3)</li><li>A PostgreSQL database connection (tested with v11-v13)</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Introduction</a><a class="docs-footer-nextpage" href="../api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 3 March 2021 23:58">Wednesday 3 March 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
